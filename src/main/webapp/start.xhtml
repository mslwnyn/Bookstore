<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="template/ui.xhtml">

  <ui:define name="body">
    <h:form id="form" enctype="multipart/form-data">
      <h:messages id="messages" showDetail="true" />
      <p:panel header="FNB CBS Book Store App - File Upload">
        <h:inputFile id="file" value="#{mainController.file}"/>
        <h:commandButton value="Upload"
                         action="#{mainController.upload}"/>
        <pre><h:outputText value="#{mainController.xmlText}" rendered="#{not empty mainController.xmlText}"/></pre>
        <h:commandButton value="Save Books"
                         action="#{mainController.saveContent}" rendered="#{not empty mainController.xmlText}"/>
      </p:panel>
    </h:form>
  </ui:define>
</ui:composition>